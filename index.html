<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="学习笔记">
<meta property="og:type" content="website">
<meta property="og:title" content="厚朴酚">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="厚朴酚">
<meta property="og:description" content="学习笔记">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="厚朴酚">
<meta name="twitter:description" content="学习笔记">






  <link rel="canonical" href="http://yoursite.com/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>厚朴酚</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">厚朴酚</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">打磨技术!</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/20/javascript对象查重/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/20/javascript对象查重/" itemprop="url">
                  javascript对象查重
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-20 15:47:12 / 修改时间：15:47:53" itemprop="dateCreated datePublished" datetime="2018-12-20T15:47:12+08:00">2018-12-20</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="javascript对象查重封装"><a href="#javascript对象查重封装" class="headerlink" title="javascript对象查重封装"></a>javascript对象查重封装</h3><pre><code>export const checkDup=(array,obj)=&gt;{
            var value= obj.value;
            for (var i=0;i&lt;array.length;i++){
                if(obj ){
                    if(array[i]){
                        var value1 = array[i].value;
                        if(value === value1){
                            return true;
                        }
                    }
                }
            }
        return false;
}
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/20/fs模块判断文件属性/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/20/fs模块判断文件属性/" itemprop="url">
                  fs模块操作文件封装
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-20 15:43:42 / 修改时间：15:46:11" itemprop="dateCreated datePublished" datetime="2018-12-20T15:43:42+08:00">2018-12-20</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/node-js/" itemprop="url" rel="index"><span itemprop="name">node.js</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="fs模块判断文件属性"><a href="#fs模块判断文件属性" class="headerlink" title="fs模块判断文件属性"></a>fs模块判断文件属性</h3><pre><code>/**
 *  检查每一项是文件还是文件夹
 *
 * @param {Array}  result文件path
 * @param {*}        
 * @returns     数组对象
 */
export const inspectDescribeFiles=(result)=&gt;{
    let childrenResult =[]
    for (let i=0;i&lt;result.length;i++){
        fs.stat(result[i],(err,stat)=&gt;{
            let pathObj = {
                title:path.basename(result[i]),
                path:result[i],
                type:&apos;&apos;,
                expand:false
            }
            if (err){
                console.log(err)
            } else {
                if (stat.isFile()){
                    pathObj.type = &apos;file&apos;
                    const ext = path.parse(result[i]).ext
                    if(ext == &apos;.TMAP&apos;){
                        childrenResult.push(pathObj)
                    }
                }
                if (stat.isDirectory()){
                    pathObj.type = &apos;folder&apos;
                    childrenResult.push(pathObj)
                }

            }
        })
    } 
    return childrenResult
}
</code></pre><h3 id="fs模块绝对路径封装"><a href="#fs模块绝对路径封装" class="headerlink" title="fs模块绝对路径封装"></a>fs模块绝对路径封装</h3><pre><code>/**
 *  返回绝对路径的方法
 *
 * @param {*} folderPath  传入盘符的路径  C:\\  D:\\
 * @param {*} files       files就是文件名
 * @returns      返回每个files的绝对路径
 */
function resolvePath(folderPath,files){
    const resolvePathResult = []
    for (let i = 0; i &lt;files.length;i++){
        const resolvePath= path.resolve(folderPath,files[i])
        resolvePathResult.push(resolvePath)
    }
    return resolvePathResult
}
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/20/node-js读取电脑分区/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/20/node-js读取电脑分区/" itemprop="url">
                  node.js读取电脑分区
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-20 15:39:43 / 修改时间：15:42:11" itemprop="dateCreated datePublished" datetime="2018-12-20T15:39:43+08:00">2018-12-20</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/node-js/" itemprop="url" rel="index"><span itemprop="name">node.js</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="node-js读取电脑分区"><a href="#node-js读取电脑分区" class="headerlink" title="node.js读取电脑分区"></a>node.js读取电脑分区</h3><pre><code>const fs = require(&apos;fs&apos;)
const path = require(&apos;path&apos;)
var exec = require(&apos;child_process&apos;).exec;
function showLetter(callback) {
    exec(&apos;wmic logicaldisk get caption&apos;, function(err, stdout, stderr) {
        if(err || stderr) {
            console.log(&quot;root path open failed&quot; + err + stderr);
            return;
        }
        callback(stdout);
    }
)}
export const  getCaption =()=&gt;{
    return new Promise((resolve,reject)=&gt;{
        showLetter(data=&gt;{
            const result =data.replace(/\ +/g,&quot;&quot;).replace(/[ ]/g,&quot;&quot;).replace(/[\r\n]/g,&quot;&quot;).replace(/:/g,&quot;&quot;)
            const caption = (result.split(&quot;&quot;).slice(7))
            let captionResult = []
            caption.map(item =&gt;{
                let Obj = {}
                Obj.title = `${item}://`
                Obj.expand = false,
                Obj.type = &apos;folder&apos;
                Obj.path = `${item}://`
                captionResult.push(Obj)
            })
            resolve(captionResult)
        })
    })   
}
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/17/发布并更新npm包/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/17/发布并更新npm包/" itemprop="url">
                  发布并更新npm包
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-17 13:52:58 / 修改时间：14:00:49" itemprop="dateCreated datePublished" datetime="2018-12-17T13:52:58+08:00">2018-12-17</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/node-js/" itemprop="url" rel="index"><span itemprop="name">node.js</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="发布并更新npm包"><a href="#发布并更新npm包" class="headerlink" title="发布并更新npm包"></a>发布并更新npm包</h3><h4 id="发布包"><a href="#发布包" class="headerlink" title="发布包"></a>发布包</h4><ol>
<li>新建一个文件夹 </li>
<li>文件夹下新建一个lib文件夹</li>
<li>创建package.json,并初始化字节的信息</li>
<li>创建readme.md文件</li>
<li>在lib文件夹写你的方法</li>
<li>根文件夹下创建一个index.js主入口文件,并把lib下的方法暴露</li>
<li>开始上传npm包<ol>
<li>npm adduser</li>
<li>npm publish</li>
</ol>
</li>
</ol>
<h4 id="更新包"><a href="#更新包" class="headerlink" title="更新包"></a>更新包</h4><ol>
<li>进行你的代码修改</li>
<li><p>用命令：npm version &lt;update_type&gt;进行修改,update_type 有三个参数</p>
<ol>
<li>第一个是patch, 补丁</li>
<li>第二个是minor, 小修小改</li>
<li>第三个是 major，大改</li>
</ol>
</li>
<li><p>再次npm publish既可</p>
</li>
</ol>

          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/16/js进阶知识/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/16/js进阶知识/" itemprop="url">
                  js进阶知识
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-16 12:25:33 / 修改时间：21:35:20" itemprop="dateCreated datePublished" datetime="2018-12-16T12:25:33+08:00">2018-12-16</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/javascript/" itemprop="url" rel="index"><span itemprop="name">javascript</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="js进阶知识"><a href="#js进阶知识" class="headerlink" title="js进阶知识"></a>js进阶知识</h2><h3 id="值类型与引用类型"><a href="#值类型与引用类型" class="headerlink" title="值类型与引用类型"></a>值类型与引用类型</h3><h4 id="值类型与引用类型在内存的存储情况"><a href="#值类型与引用类型在内存的存储情况" class="headerlink" title="值类型与引用类型在内存的存储情况"></a>值类型与引用类型在内存的存储情况</h4><pre><code>变量名 : 具体值
针对栈: 变量名 : 具体值
针对堆: 变量名 : 地址值
</code></pre><ol>
<li><p>栈内存: 值类型存放的位置</p>
<p> 简单类型比如string,number,boolean,null,undefined存放在栈空间</p>
</li>
<li><p>堆内存: 引用内存存放的位置, 内存空间</p>
<p> 比如:function, object, Array</p>
</li>
</ol>
<h4 id="值类型和引用类型与传递"><a href="#值类型和引用类型与传递" class="headerlink" title="值类型和引用类型与传递"></a>值类型和引用类型与传递</h4><ol>
<li><p>值类型的复制赋值和引用类型的赋值的区别</p>
<p> 引用类型的赋值操作:将引用类型堆上的内存地址进行赋值</p>
</li>
<li><p>函数参数的引用传递和值传递</p>
<ul>
<li>如果实参的值类型,会复制一个值类型的副本给函数,不会影响原来的传递参数的值类型变量</li>
<li><p>如果实参是引用类型,传递只是引用类型的一个地址值,在函数内部操作参数对应的引用对象会影响到传递的参数,也就是会改变原来传递参数的值</p>
<pre><code>var a = 9,b;
var c = {age:9},d;
//值类型
b=a
b=19
console.log(a)   //9
console.log(b)   //19
//引用类型
d =c;
d.age = 22,
console.log(c.age)  //22
console.log(d.age)  //22
</code></pre></li>
</ul>
</li>
</ol>
<h4 id="函数的参数"><a href="#函数的参数" class="headerlink" title="函数的参数"></a>函数的参数</h4><ol>
<li>arguments参数</li>
</ol>
<pre><code>//实现max方法,可以接收任意多个参数,返回参数中最大的哪个值
    function myMax(){
        if (arguments.length &lt;0){
            return NaN
        }
        var max = arguments[0];
        for (var i=0; i&lt; arguments.length;i++){
            if (arguments[i]&gt;max) {
                max = arguments[i]
            }
        }
        return max
    }

    const result = myMax(12,4,6,7,8)
    console.log(result)
</code></pre><ol start="2">
<li><p>函数参数的封装</p>
<p> 如果参数多于4个,难于记忆,可以将参数封装成对象来接受,对象的属性无序的,方便开发任意使用</p>
<pre><code>var rect = {
    x:19,
    y:20,
    width:256,
    height:256,
    bgColor:&apos;#ccc&apos;
}
function rect(rectObject){
    console.log(rectObject + &apos;&apos;+ rectObject.y)
}
</code></pre></li>
</ol>
<h3 id="函数高级"><a href="#函数高级" class="headerlink" title="函数高级"></a>函数高级</h3><h4 id="javascript事件循环机制-Event-Loop"><a href="#javascript事件循环机制-Event-Loop" class="headerlink" title="javascript事件循环机制(Event Loop)"></a>javascript事件循环机制(Event Loop)</h4><ul>
<li><p>为什么单线程? </p>
<p>  Javascript执行线程和UI线程是互斥的</p>
<p>  javascript的任务分为同步任务和异步任务</p>
<p>  同步任务:一般赋值操作,循环,分支语句等</p>
<p>  异步任务:DOM事件,Ajax,BOM等api</p>
</li>
<li><p>事件循环机制:</p>
<p>  javascript的执行引擎的主线程从队列中获取任务执行,如果任务是异步任务,那么运行到异步任务的时候,异步任务就退出主线程,主线程进行下一个任务的获取处理. 如果异步任务完成,就插入到任务队列的末尾,等待主线程处理.        </p>
<h4 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h4></li>
<li><p>javscript的解释和执行阶段</p>
<ul>
<li>解释阶段<ul>
<li>词法分析</li>
<li>语法分析</li>
<li>作用域规则确定</li>
</ul>
</li>
<li>执行阶段<ul>
<li>创建执行上下文</li>
<li>执行函数代码</li>
<li>垃圾回收</li>
</ul>
</li>
</ul>
</li>
<li><p>函数变量作用域</p>
<ol>
<li>作用域:就是变量声明的区域,就是变量和函数的可访问范围,在全局声明的变量为全局可见访问的就是全局变量,如果在函数内部声明的变量只能在函数内部访问</li>
<li>函数的参数只能在函数内部访问,是局部变量</li>
<li>javascript没有块级作用域,只有函数作用域和全局作用域,for循环内部定义的变量是函数级别的作用域,现在可以通过let解决</li>
<li>变量没有在函数内声明或者声明的时候没有带var就是全局变量,拥有全局作用域,特殊: var a = b = c = 0;b与c是全局变量.</li>
<li>全局作用域的变量可以在js中任何地方调用,函数作用域的变量只能在字节函数内部调用,包括字节定义的其他函数都可以直接调用</li>
<li>变量的作用域是以它声明时为准,因为变量的作用域在js代码的解释阶段已经完成规则的制订</li>
</ol>
</li>
</ul>
<pre><code>var t = 9 //全局作用域,全部都可以访问
function f1() { //f1函数全局作用域
    var t2 = 10 //t2是f1函数内部可访问
    console.log(t)
    function f2() {//函数f2是函数f1的作用域
        var t3 = 200; //t3只能在f2函数内部调用
        console.log(t2)
        return t2*t2 //f2函数可以访问f1函数作用域的变量以及f2字节内部变量
    }
    return f2()
}
var m =f1()
console.log(m)
</code></pre><p>函数的声明与变量同名的化,函数优先级较高,函数是一等公民</p>
<h4 id="变量提升与函数提升"><a href="#变量提升与函数提升" class="headerlink" title="变量提升与函数提升"></a>变量提升与函数提升</h4><ul>
<li><p>变量提升</p>
<ol>
<li>如果一个声明的变量在函数体内,那么它的作用域就是函数内部,如果是全局环境下声明的,那么它的作用域就是全局的,通过var声明的变量无法用delete删除的</li>
<li>函数内部的声明的变量会被提升到函数的头部,函数在解释执行的时候,先进行变量声明处理,然后再运行函数内部的代码</li>
<li>变量和赋值语句仪器书写,在js引擎解析时候,会将其拆成声明和赋值2部分,声明置顶,赋值保留在原来位置</li>
<li><p>变量重复声明不会出错,后面会覆盖前面的</p>
<pre><code>var a =10
function f1(){
    //函数的变量提升,因为在函数执行之前,先创建了函数的EC,
    //在创建EC的时候以及把函数声明的变量以及初始化为undefined
    console.log(a) //undefined
    var a = 19
    console.log(a) //19
}
f1()
console.log(a) //  10
</code></pre></li>
</ol>
</li>
</ul>
<h4 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h4><ol>
<li>作用域链是一个数组</li>
<li>作用域链是控制变量作用域的有序访问js内部实现</li>
<li>作用域链存储在函数的执行上下文,作用域链存放的是执行环境中的VO或者AO</li>
<li>当前函数的作用域对象都是在最前端,而且全局的在最末端</li>
<li>变量(标识符)的搜索都是从作用域链的最前端向后搜索,直到全局作用域,标识符的解析是沿着作用域链一级一级搜索的过程,从第一个对象开始,逐渐向后回溯,直到找到同名标识符为止,找到后不在继续遍历,找不到就报错<h4 id="函数的arguments"><a href="#函数的arguments" class="headerlink" title="函数的arguments"></a>函数的arguments</h4><h4 id="函数执行上下文"><a href="#函数执行上下文" class="headerlink" title="函数执行上下文"></a>函数执行上下文</h4></li>
</ol>
<ul>
<li>执行上下文相关</li>
</ul>
<ol>
<li>栈的数据结构:先进后出</li>
<li>EC:函数执行环境(或执行上下文)</li>
<li>ECS:执行环境栈</li>
<li>VO变量对象:js的执行上下文中都有个对象用来存放执行上下文中可被访问但是不能被delete的函数标识符,形参,变量声明等.他们会被挂载这个对象上,对象的属性对应他们的名字对象属性的值对应他们的值但这个对象是规范上或者说是引擎实现上的不可在js环境中访问到活动对象.</li>
<li>AO激活对象:有了变量对象存每个上下文的东西,但是它是声明时候被访问呢?就是每进入一个执行上下文时,这个执行上下文的变量对象被激活,也就是该上下文的函数标识符,形参/变量声明就可以被访问了</li>
</ol>
<ul>
<li>执行上下文的执行栈</li>
</ul>
<ol>
<li>javascript执行在单线程上,使用代码都是排队执行</li>
<li>一开始浏览器执行全局的代码时,首先创建全局的执行上下文,压入执行栈的顶部.</li>
<li>每当进入一个函数的执行就会创建函数的执行上下文,并且把它压入执行栈的顶部.当函数执行完成后,当前函数的执行上下文出栈,并等待垃圾回收.</li>
<li>浏览器的Js执行引擎总是访问栈定的执行上下文</li>
<li><p>全局上下文只有唯一的一个,在浏览器关闭的时候出栈.</p>
<pre><code>//(EQ)代码执行之前的时候,就会立即创建一个全局的执行上下文  global excution context
//在这个例子当中就是这些函数
//创建完全局的执行上下文之后,把全局的上下文压入执行栈
function f1(){
    console.log(&apos;f1&apos;)
}
function f2(){
    console.log(&apos;f2&apos;)
    f3()
}
function f3(){
    console.log(&apos;f3&apos;)
    f4()
}
function f4(){
    console.log(&apos;f4&apos;)
}

f1() //代码进入f1函数,函数内的代码在执行之前,js执行引擎立即创建一个f1的
    //执行环境 f1  Excution Context 立即把这个执行环境压入到执行环境栈中ecs
    //f1() 函数执行完之后,从执行环境栈中弹出f1的执行上下文
//f2()函数执行之前,创建f2的执行上下文,压栈到执行环境栈中ECS
//因为f2调用了f3函数,f3函数执行之前也创建了一个f3的执行 上下文,并压栈到执行环境栈中
//f3函数调用f4函数,创建f4的EC,并把f4的EC压入到ECS中
//f4执行完成,f4的EC出栈
//f3执行完成,f3的EC出栈
//f2执行完成,f2的EC出栈
f2()  //f2()-&gt; f3()-&gt;f4()  //
</code></pre><h5 id="执行上下文的声明周期"><a href="#执行上下文的声明周期" class="headerlink" title="执行上下文的声明周期"></a>执行上下文的声明周期</h5></li>
</ol>
<ul>
<li>总的生命周期: 创建-&gt;执行-&gt;出栈等待销毁</li>
<li>创建阶段:<ol>
<li>创建作用域链</li>
<li>创建变量对象(AO):首先初始化函数的参数arguments,初始化函数声明,初始化变量(undefined),函数的优先级要高于变量,如果变量和函数重名,变量被忽略.<ul>
<li>创建arguments对象,检查上下文,初始化参数名称和值并创建引用的复制</li>
<li>扫描上下文的函数声明(而非函数表达式):<ul>
<li>为发现的每一个函数,在变量对象创建一个属性–确切的说是函数的名字,其有一个指向函数在内存中的引用</li>
<li>如果函数的名字已经存在,引用指针将被重写</li>
</ul>
</li>
<li>扫描上下文的变量声明:<ul>
<li>为发现的每个变量声明,在变量对象上创建一个属性-就是变量的名字,并且将变量的初始值为undefined</li>
<li>如果变量的名字已经在变量对象里存在,将不会进行任何操作并继续扫描</li>
</ul>
</li>
<li>求出上下文的内部this的值</li>
</ul>
</li>
</ol>
</li>
<li>执行阶段:<ul>
<li>执行变量赋值,代码执行</li>
</ul>
</li>
<li><p>回收阶段</p>
<ul>
<li><p>执行上下文出栈等待虚拟机回收执行上下文</p>
<pre><code>//变量声明
var a1 = 19,
    a2 = 20,
    a3 = &apos;sss&apos;,
    b1 = {name:&apos;lcd&apos;}
//函数声明
a1 = f1(a1,a2) 
//函数声明
function f1(a,b){
    //f1函数的执行上下文
    //第一步:扫描参数, a =19, b = 20
    //第二步:扫描函数声明 f2 = function(){}
    //第三步:扫描变量声明  t=undefined  m = undifined i = undefined   变量提升
    var t =0,
        m =10;
    for (var i= 0;i&lt; a;i++){
        console.log(i)
    }
    function f2() {
        console.log(f2)
    }
    return a + b;
}
</code></pre></li>
</ul>
</li>
</ul>
<h4 id="构造函数内部执行过程"><a href="#构造函数内部执行过程" class="headerlink" title="构造函数内部执行过程"></a>构造函数内部执行过程</h4><h4 id="函数的四种调用模式"><a href="#函数的四种调用模式" class="headerlink" title="函数的四种调用模式"></a>函数的四种调用模式</h4><h4 id="没有重载"><a href="#没有重载" class="headerlink" title="没有重载"></a>没有重载</h4><h4 id="函数的属性和方法-length-prototype"><a href="#函数的属性和方法-length-prototype" class="headerlink" title="函数的属性和方法(.length,.prototype)"></a>函数的属性和方法(.length,.prototype)</h4>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/07/扫描文件价生成指定格式/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/07/扫描文件价生成指定格式/" itemprop="url">
                  扫描文件夹生成指定格式
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-07 17:10:50 / 修改时间：17:21:26" itemprop="dateCreated datePublished" datetime="2018-12-07T17:10:50+08:00">2018-12-07</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/electron/" itemprop="url" rel="index"><span itemprop="name">electron</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="扫描文件夹生成指定格式"><a href="#扫描文件夹生成指定格式" class="headerlink" title="扫描文件夹生成指定格式"></a>扫描文件夹生成指定格式</h3><p>最近在做本地系统,需要对本地文件夹进行扫描生成树的格式看到一个插件非常不错</p>
<p>github地址:<a href="https://github.com/Lemonreds/folder2some" target="_blank" rel="noopener">https://github.com/Lemonreds/folder2some</a></p>
<pre><code>#### 源码

/**
 * 2018-4-3
 */
const fs = require(&apos;fs&apos;),
    path = require(&apos;path&apos;)


const defaults = {
    ignore: [],
    generateFile: false
}
class Folder2some {

    constructor(dir, options) {
        this.dir = dir
        this.options = Object.assign(defaults, options)
        this.files = null
    }

    toTree() {

        let tree = &apos;&apos;
        let read = (dir, space = &apos; &apos;) =&gt; {

            let files = fs.readdirSync(dir),
                len = files.length

            files.sort((a, b) =&gt; {
                let s = fs.statSync(path.resolve(dir, a))
                if (s.isDirectory()) {
                    return -1
                }
                return 1
            })

            files.forEach((file, idx) =&gt; {

                if (this._isIgnore(file)) {
                    return
                }

                let stat, sign
                idx === len - 1 ? sign = &apos;└─&apos; : sign = &apos;├─&apos;

                tree = tree + space.replace(&apos;|&apos;, &apos;&apos;) + sign + file + &apos;\n&apos;


                stat = fs.statSync(path.resolve(dir, file))

                if (stat.isDirectory()) {
                    read(path.resolve(dir, file), space + &apos;│&apos; + &apos; &apos;)
                }
            })
        }

        read(this.dir)
        this._makeFile(tree, &apos;_tree.txt&apos;)
        return tree
    }

    toJSON() {

        let read = (dir, container) =&gt; {

            let files = fs.readdirSync(dir),
                stat

            files.forEach(file =&gt; {

                if (this._isIgnore(file)) {
                    return
                }

                stat = fs.statSync(path.resolve(dir, file))

                if (stat.isFile()) {
                    container.push(file)
                } else {

                    let directory = {
                        [file]: []
                    }
                    container.push(directory)
                    read(path.resolve(dir, file), directory[file])
                }
            })
        }

        let ft = []
        read(this.dir, ft)
        this._makeFile(ft, &apos;_json.txt&apos;, true)
        return JSON.stringify(ft, null, 2)
    }

    toAnalysis() {

        let datas = this._toData(this.dir),
            totalSize = 0,
            totalCount = 0,
            extPercent = []

        for (let i = 0; i &lt; datas.length; i++) {
            totalSize += datas[i].size
            totalCount += datas[i].count
        }

        for (let j = 0; j &lt; datas.length; j++) {

            extPercent.push({
                ext: datas[j].ext,
                percent: ((datas[j].size / totalSize) * 100).toFixed(2),
                count: datas[j].count
            })
        }

        let analysis = JSON.stringify({
            path: this.dir,
            totalSize: (totalSize / 1024).toFixed(2) + &apos;KB&apos;, //B =&gt; KB
            totalCount: totalCount,
            extPercent: extPercent
        }, null, 2);

        this._makeFile(analysis, &apos;_analysis.txt&apos;)
        return analysis

    }
    _toData() {

        let datas = []
        let read = dir =&gt; {

            let files = fs.readdirSync(dir),
                stat

            files.forEach(file =&gt; {

                if (this._isIgnore(file)) {
                    return
                }

                stat = fs.statSync(path.resolve(dir, file))
                if (stat.isFile()) {

                    let i = 0,
                        isExist = false,
                        ext = file.substring(file.lastIndexOf(&apos;.&apos;), file.length),
                        size = stat.size


                    for (; i &lt; datas.length; i++) {

                        if (datas[i].ext === ext) {
                            datas[i].size += size
                            datas[i].count++
                                isExist = true
                            break
                        }
                    }

                    if (!isExist) {
                        datas.push({
                            ext: ext,
                            size: size,
                            count: 1
                        })
                    }


                } else {
                    read(path.resolve(dir, file))
                }
            })
        }
        read(this.dir)
        return datas
    }



    _makeFile(data, filename, toJson = false) {

        if (this.options.generateFile) {
            fs.writeFileSync(filename,
                toJson ? JSON.stringify(data, null, 2) : data)
        }
    }

    _isIgnore(file) {
        for (let ig of this.options.ignore) {
            if (typeof file === &apos;string&apos; &amp;&amp; file.toLowerCase() === ig.toLowerCase()) {
                return true
            }
        }
        return false
    }
}


module.exports = Folder2some
</code></pre><h4 id="使用方式"><a href="#使用方式" class="headerlink" title="使用方式:"></a>使用方式:</h4><pre><code>let FT = require(&apos;./index&apos;),
    dir = &apos;./&apos;;

let ft = new FT(dir,{ 
    ignore: [&apos;node_modules&apos;,&apos;.git&apos;],
    generateFile: true
})

console.log(ft.toTree())
console.log(ft.toJSON())
console.log(ft.toAnalysis())
</code></pre><h4 id="另外一种"><a href="#另外一种" class="headerlink" title="另外一种"></a>另外一种</h4><pre><code>var fs = require(&apos;fs&apos;)


//遍历文件夹，获取所有文件夹里面的文件信息
/*
 * @param path 路径
 *
 */

function geFileList(path)
{
   var filesList = [];
   var targetObj = {};
   readFile(path,filesList,targetObj);
   return filesList;
}

//遍历读取文件
function readFile(path,filesList,targetObj)
{
   files = fs.readdirSync(path);//需要用到同步读取
   files.forEach(walk);
   function walk(file)
   {  
        states = fs.statSync(path+&apos;/&apos;+file);         
        if(states.isDirectory())
        {
            var item ;
            if(targetObj[&quot;children&quot;])
            {
                item = {name:file,children:[]};
                targetObj[&quot;children&quot;].push(item);
            }
            else
            {
               item = {name:file,children:[]};
               filesList.push(item);
            }

            readFile(path+&apos;/&apos;+file,filesList,item);
        }
        else
        {   
            //创建一个对象保存信息
            var obj = new Object();
            obj.size = states.size;//文件大小，以字节为单位
            obj.name = file;//文件名
            obj.path = path+&apos;/&apos;+file; //文件绝对路径

            if(targetObj[&quot;children&quot;])
            {
               var item = {name:file,value:obj.path}
               targetObj[&quot;children&quot;].push(item);
            }
            else
            {
                var item = {name:file,value:obj.path};
                filesList.push(item);
            }
        }     
    }
}

//写入文件utf-8格式
function writeFile(fileName,data)
{  
  fs.writeFile(fileName,data,&apos;utf-8&apos;,complete);
  function complete()
  {
     console.log(&quot;文件生成成功&quot;);
  } 
}


var filesList = geFileList(&quot;D:/Program Files/Egret/EgretEngine/win/egret/src&quot;);
var str = JSON.stringify(filesList);
str = &quot;var data ={name:&apos;Egret&apos;,children:#1}&quot;.replace(&quot;#1&quot;,str);
writeFile(&quot;tree.js&quot;,str);
</code></pre><p>原文：<a href="https://blog.csdn.net/hero82748274/article/" target="_blank" rel="noopener">https://blog.csdn.net/hero82748274/article/</a></p>

          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/07/web应用启动外部exe程序/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/07/web应用启动外部exe程序/" itemprop="url">
                  web应用启动外部exe程序
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-07 10:21:14 / 修改时间：10:30:13" itemprop="dateCreated datePublished" datetime="2018-12-07T10:21:14+08:00">2018-12-07</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/electron/" itemprop="url" rel="index"><span itemprop="name">electron</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="web应用启动外部exe程序"><a href="#web应用启动外部exe程序" class="headerlink" title="web应用启动外部exe程序"></a>web应用启动外部exe程序</h3><p>有时候，需要在网页上去执行本地的一个EXE文件,但是采用js通常对大部分浏览器不支持,所以采用写注册表是一个比较好的解决方案</p>
<h4 id="url-protocol方式"><a href="#url-protocol方式" class="headerlink" title="url protocol方式"></a>url protocol方式</h4><p>在网页上点击的时候，就会弹出QQ，或者迅雷，电驴的下载界面，用的就是这个原理.</p>
<pre><code>Windows Registry Editor Version 5.00

[HKEY_CLASSES_ROOT\注册表名字]
@=&quot;注册表名字 Protocol&quot;
&quot;URL Protocol&quot;=&quot;&quot;

[HKEY_CLASSES_ROOT\注册表名字\DefaultIcon]
@=&quot;C:\\你的程序安装路径\\程序名字.exe&quot;

[HKEY_CLASSES_ROOT\注册表名字\shell]
@=&quot;&quot;

[HKEY_CLASSES_ROOT\注册表名字\shell\open]
@=&quot;&quot;

[HKEY_CLASSES_ROOT\注册表名字\shell\open\command]
@=&quot;\&quot;C:\\你的程序安装路径\\程序名字.exe\&quot; &quot;
</code></pre><h4 id="html代码"><a href="#html代码" class="headerlink" title="html代码"></a>html代码</h4><pre><code>&lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
  &lt;head&gt;
      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
  &lt;/head&gt;
    &lt;body&gt;
        &lt;div&gt;
            &lt;a href=&quot;刚才你写的注册表名称://&quot;&gt;
            执行可执行文件
            &lt;/a&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/05/vue中keep-alive组件的作用/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/05/vue中keep-alive组件的作用/" itemprop="url">
                  vue中keep-alive组件的作用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-05 15:12:34 / 修改时间：15:18:37" itemprop="dateCreated datePublished" datetime="2018-12-05T15:12:34+08:00">2018-12-05</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/vue/" itemprop="url" rel="index"><span itemprop="name">vue</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="vue中keep-alive组件的作用"><a href="#vue中keep-alive组件的作用" class="headerlink" title="vue中keep-alive组件的作用"></a>vue中keep-alive组件的作用</h3><p>内容来源: <a href="https://www.kancloud.cn/hanxuming/vue-iq/" target="_blank" rel="noopener">https://www.kancloud.cn/hanxuming/vue-iq/</a></p>
<p>keep-alive:主要用于保存组件状态或避免重新渲染<br>比如: 有一个列表页面和一个 详情页面，那么用户就会经常执行打开详情=&gt;返回列表=&gt;打开详情这样的话 列表 和 详情 都是一个频率很高的页面，那么就可以对列表组件使用<keep-alive></keep-alive>进行缓存，这样用户每次返回列表的时候，都能从缓存中快速渲染，而不是重新渲染。</p>
<h4 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h4><pre><code>include:字符串或正则表达式。只有匹配的组件会被缓存。

exclude：字符串或正则表达式。任何匹配的组件都不会被缓存。
</code></pre><h4 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h4><pre><code>&lt;!-- 基本 --&gt;
&lt;keep-alive&gt;
  &lt;component :is=&quot;view&quot;&gt;&lt;/component&gt;
&lt;/keep-alive&gt;

&lt;!-- 多个条件判断的子组件 --&gt;
&lt;keep-alive&gt;
  &lt;comp-a v-if=&quot;a &gt; 1&quot;&gt;&lt;/comp-a&gt;
  &lt;comp-b v-else&gt;&lt;/comp-b&gt;
&lt;/keep-alive&gt;

&lt;!-- 和 `&lt;transition&gt;` 一起使用 --&gt;
&lt;transition&gt;
  &lt;keep-alive&gt;
    &lt;component :is=&quot;view&quot;&gt;&lt;/component&gt;
  &lt;/keep-alive&gt;
&lt;/transition&gt;
</code></pre><h4 id="include和exclude属性的使用"><a href="#include和exclude属性的使用" class="headerlink" title="include和exclude属性的使用"></a>include和exclude属性的使用</h4><p>include 和 exclude 属性允许组件有条件地缓存。二者都可以用逗号分隔字符串、正则表达式或一个数组来表示：</p>
<pre><code>&lt;!-- 逗号分隔字符串 --&gt;
&lt;keep-alive include=&quot;a,b&quot;&gt;
  &lt;component :is=&quot;view&quot;&gt;&lt;/component&gt;
&lt;/keep-alive&gt;

&lt;!-- 正则表达式 (使用 `v-bind`) --&gt;
&lt;keep-alive :include=&quot;/a|b/&quot;&gt;
  &lt;component :is=&quot;view&quot;&gt;&lt;/component&gt;
&lt;/keep-alive&gt;

&lt;!-- 数组 (使用 `v-bind`) --&gt;
&lt;keep-alive :include=&quot;[&apos;a&apos;, &apos;b&apos;]&quot;&gt;
  &lt;component :is=&quot;view&quot;&gt;&lt;/component&gt;
&lt;/keep-alive&gt;
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/04/前端性能优化/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/04/前端性能优化/" itemprop="url">
                  前端性能优化
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-04 16:48:18 / 修改时间：17:26:41" itemprop="dateCreated datePublished" datetime="2018-12-04T16:48:18+08:00">2018-12-04</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/HTML/" itemprop="url" rel="index"><span itemprop="name">HTML</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前端性能优化"><a href="#前端性能优化" class="headerlink" title="前端性能优化"></a>前端性能优化</h2><h3 id="网络层面"><a href="#网络层面" class="headerlink" title="网络层面"></a>网络层面</h3><h4 id="请求过程优化"><a href="#请求过程优化" class="headerlink" title="请求过程优化"></a>请求过程优化</h4><h5 id="HTTP请求优化"><a href="#HTTP请求优化" class="headerlink" title="HTTP请求优化"></a>HTTP请求优化</h5><h6 id="构建工具性能优化"><a href="#构建工具性能优化" class="headerlink" title="构建工具性能优化"></a>构建工具性能优化</h6><h6 id="Gzip压缩原理"><a href="#Gzip压缩原理" class="headerlink" title="Gzip压缩原理"></a>Gzip压缩原理</h6><h6 id="图片优化"><a href="#图片优化" class="headerlink" title="图片优化"></a>图片优化</h6><h4 id="减少网络请求"><a href="#减少网络请求" class="headerlink" title="减少网络请求"></a>减少网络请求</h4><h5 id="本地存储"><a href="#本地存储" class="headerlink" title="本地存储"></a>本地存储</h5><h6 id="浏览器缓存机制"><a href="#浏览器缓存机制" class="headerlink" title="浏览器缓存机制"></a>浏览器缓存机制</h6><h6 id="离线存储技术"><a href="#离线存储技术" class="headerlink" title="离线存储技术"></a>离线存储技术</h6><h3 id="渲染层面"><a href="#渲染层面" class="headerlink" title="渲染层面"></a>渲染层面</h3><h4 id="服务端渲染"><a href="#服务端渲染" class="headerlink" title="服务端渲染"></a>服务端渲染</h4><h4 id="浏览器渲染机制"><a href="#浏览器渲染机制" class="headerlink" title="浏览器渲染机制"></a>浏览器渲染机制</h4><h5 id="CSS性能优化"><a href="#CSS性能优化" class="headerlink" title="CSS性能优化"></a>CSS性能优化</h5><h5 id="js性能优化"><a href="#js性能优化" class="headerlink" title="js性能优化"></a>js性能优化</h5><h4 id="DOM优化"><a href="#DOM优化" class="headerlink" title="DOM优化"></a>DOM优化</h4><h5 id="事件循环与异步更新"><a href="#事件循环与异步更新" class="headerlink" title="事件循环与异步更新"></a>事件循环与异步更新</h5><h5 id="回流与重绘"><a href="#回流与重绘" class="headerlink" title="回流与重绘"></a>回流与重绘</h5><h4 id="首屏渲染提速"><a href="#首屏渲染提速" class="headerlink" title="首屏渲染提速"></a>首屏渲染提速</h4><h5 id="懒加载"><a href="#懒加载" class="headerlink" title="懒加载"></a>懒加载</h5>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/30/electron实现下载进度条/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/30/electron实现下载进度条/" itemprop="url">
                  electron实现下载进度条
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-11-30 14:07:54 / 修改时间：14:10:34" itemprop="dateCreated datePublished" datetime="2018-11-30T14:07:54+08:00">2018-11-30</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/electron/" itemprop="url" rel="index"><span itemprop="name">electron</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="electron下载进度条"><a href="#electron下载进度条" class="headerlink" title="electron下载进度条"></a>electron下载进度条</h3><pre><code>通过 Electron 中 will-download 事件

mainWindow.webContents.session.on(&apos;will-download&apos;, (e, item) =&gt; {
    //获取文件的总大小
   const totalBytes = item.getTotalBytes();

    //设置文件的保存路径，此时默认弹出的 save dialog 将被覆盖
   const filePath = path.join(app.getPath(&apos;downloads&apos;), item.getFilename());
   item.setSavePath(filePath);

    //监听下载过程，计算并设置进度条进度
   item.on(&apos;updated&apos;, () =&gt; {
       mainWindow.setProgressBar(item.getReceivedBytes() / totalBytes);
   });

    //监听下载结束事件
   item.on(&apos;done&apos;, (e, state) =&gt; {
           //如果窗口还在的话，去掉进度条
       if (!mainWindow.isDestroyed()) {
           mainWindow.setProgressBar(-1);
       }

        //下载被取消或中断了
       if (state === &apos;interrupted&apos;) {
           electron.dialog.showErrorBox(&apos;下载失败&apos;, `文件 ${item.getFilename()} 因为某些原因被中断下载`);
       }

        //下载完成，让 dock 上的下载目录Q弹一下下
       if (state === &apos;completed&apos;) {
           app.dock.downloadFinished(filePath);
       }
   });
});
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="厚朴酚">
            
              <p class="site-author-name" itemprop="name">厚朴酚</p>
              <p class="site-description motion-element" itemprop="description">学习笔记</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">52</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">27</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">厚朴酚</span>

  

  
</div>



<!--
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Gemini</a> v6.4.2</div>
 -->



        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.2"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
