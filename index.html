<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.2">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.2" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.4.2',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="学习笔记">
<meta property="og:type" content="website">
<meta property="og:title" content="厚朴酚">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="厚朴酚">
<meta property="og:description" content="学习笔记">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="厚朴酚">
<meta name="twitter:description" content="学习笔记">






  <link rel="canonical" href="http://yoursite.com/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>厚朴酚</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">厚朴酚</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">打磨技术!</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/15/spdlog日志库/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/15/spdlog日志库/" itemprop="url">
                  spdlog日志库
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-04-15 14:13:33 / 修改时间：14:22:07" itemprop="dateCreated datePublished" datetime="2019-04-15T14:13:33+08:00">2019-04-15</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/c/" itemprop="url" rel="index"><span itemprop="name">c++</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="轻量级spdlog日志库"><a href="#轻量级spdlog日志库" class="headerlink" title="轻量级spdlog日志库"></a>轻量级spdlog日志库</h3><h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ol>
<li>快速</li>
<li>轻量</li>
<li>无需编译</li>
</ol>
<h4 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h4><ol>
<li><p>从github上下载源码:</p>
<pre><code>https://github.com/gabime/spdlog
</code></pre></li>
<li><p>在目标ｃ＋＋工程的工程属性包含目录配置</p>
<p> 在头文件include对应的类型即可</p>
</li>
</ol>
<h4 id="案例-写入到文件"><a href="#案例-写入到文件" class="headerlink" title="案例:写入到文件"></a>案例:写入到文件</h4><ol>
<li><p>全局头文件</p>
<pre><code>#include&quot;spdlog/sinks/basic_file_sink.h&quot;
using namespace std;

auto my_logger = spdlog::basic_logger_mt(&quot;file_logger&quot;, &quot;logs/basic-log.txt&quot;);
</code></pre></li>
<li><p>在需要用到的地方</p>
<pre><code>my_logger-&gt;info(&quot;message&quot;)
</code></pre></li>
</ol>
<h4 id="参考官方提供的example"><a href="#参考官方提供的example" class="headerlink" title="参考官方提供的example"></a>参考官方提供的example</h4><pre><code>https://github.com/gabime/spdlog/tree/v1.x/example
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/04/libcurl的基础应用/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/04/libcurl的基础应用/" itemprop="url">
                  libcurl的基础应用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-04-04 16:54:51 / 修改时间：16:55:54" itemprop="dateCreated datePublished" datetime="2019-04-04T16:54:51+08:00">2019-04-04</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/c/" itemprop="url" rel="index"><span itemprop="name">c++</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="libcurl应用笔记"><a href="#libcurl应用笔记" class="headerlink" title="libcurl应用笔记"></a>libcurl应用笔记</h3><h4 id="常规字段post"><a href="#常规字段post" class="headerlink" title="常规字段post"></a>常规字段post</h4><p>特别注意:</p>
<pre><code>libcurl发送的url类型必须是const char* 类型,否则会出错.如果是string的类型,会出现无法解析host name.
</code></pre><h5 id="封装案例的方法"><a href="#封装案例的方法" class="headerlink" title="封装案例的方法:"></a>封装案例的方法:</h5><pre><code>    bool clientPostNormal(const char* url, add_slice &amp;s) {
        CURL *curl;
        CURLcode res;
        /* In windows, this will init the winsock stuff */
        curl_global_init(CURL_GLOBAL_ALL);
        /*get a curl handle*/
        curl = curl_easy_init();
        if (curl) {
            /* First set the URL that is about to receive our POST. This URL can
            just as well be a https:// URL if that is what should receive the
            data. */
            curl_easy_setopt(curl, CURLOPT_URL, url);
            string postData = &quot;bussinessId=&quot; + s.bussinessId + &quot;&amp;&quot;+&quot;localSlideId=&quot;+s.localSlideId+&quot;&amp;&quot;+&quot;localSlideName=&quot;+s.localSlideName+&quot;&amp;&quot;\
                &quot;localSlideCode=&quot;+s.localSlideCode+&quot;&amp;&quot;+&quot;width=&quot;+std::to_string(s.width)+&quot;&amp;&quot; + &quot;height=&quot;+std::to_string(s.height)+&quot;&amp;&quot;+&quot;scale=&quot;+std::to_string(s.scale)+&quot;&amp;&quot;\
                &quot;slideType=&quot;+s.slideType+&quot;&amp;&quot;+&quot;ihcItem=&quot;+s.ihcItem;
            /* Perform the request, res will get the return code */
            //cout &lt;&lt; url &lt;&lt; endl;
            //cout &lt;&lt; postData &lt;&lt; endl;
            curl_easy_setopt(curl, CURLOPT_POSTFIELDS, postData);
            res = curl_easy_perform(curl);
            /*Check for errors*/
            if (res != CURLE_OK) {
                fprintf(stderr, &quot;curl_easy_perform() failed: %s\n&quot;,
                    curl_easy_strerror(res));
                /* always cleanup */
                curl_easy_cleanup(curl);
                return false;
            }
            curl_global_cleanup();
            return true;
        }
    }

方法的使用:
    addSlice as;
    as.bussinessId = &quot;we34&quot;;
    as.height = 40000;
    as.ihcItem = &quot;ryt4&quot;;
    as.localSlideCode = &quot;ighirbn&quot;;
    as.localSlideId = &quot;ebgjkbgj&quot;;
    as.scale = 40;
    as.slideType = &quot;hpc&quot;;
    as.width = 44444444;
    const char* url = &quot;http://111.200.54.118:8080/slide/addSlide&quot;;
    bool res = clientPostNormal(url, as);
    cout &lt;&lt; 1 &lt;&lt; endl;
    cout &lt;&lt; res &lt;&lt; endl;
</code></pre><h4 id="form-data上传"><a href="#form-data上传" class="headerlink" title="form-data上传"></a>form-data上传</h4><blockquote>
<p>特别要注意,在使用curl_formadd的时候,字段的值必须为char*类型.</p>
</blockquote>
<h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><pre><code>int clientPostTile3(tile_form t,const char* pc, long length) {
    CURL* easy_handle;
    CURLcode res;
    curl_slist* http_headers = NULL;
    CURLcode code;
    code = curl_global_init(CURL_GLOBAL_ALL);
    if (CURLE_OK != code)
    {
        std::cerr &lt;&lt; &quot;init libcurl failed: &quot; &lt;&lt; code &lt;&lt; std::endl;
        return -1;
    }
    /*http_headers = curl_slist_append(http_headers, &quot;Content-Type:multipart/form-data&quot;);
    http_headers = curl_slist_append(http_headers, &quot;Connection:keep-alive&quot;);
    http_headers = curl_slist_append(http_headers, &quot;Charset:UTF-8&quot;);*/
    curl_httppost *formpost = NULL;
    curl_httppost *lastptr = NULL;
    curl_formadd(&amp;formpost, &amp;lastptr, 
        CURLFORM_COPYNAME, &quot;localSliceId&quot;, 
        CURLFORM_COPYCONTENTS,t.localSliceId.c_str() , CURLFORM_END);
    curl_formadd(&amp;formpost, &amp;lastptr,
        CURLFORM_COPYNAME, &quot;x&quot;,
        CURLFORM_COPYCONTENTS, std::to_string(t.x).c_str(), CURLFORM_END);
    curl_formadd(&amp;formpost, &amp;lastptr,
        CURLFORM_COPYNAME, &quot;y&quot;,
        CURLFORM_COPYCONTENTS, std::to_string(t.y).c_str(), CURLFORM_END);
    curl_formadd(&amp;formpost, &amp;lastptr,
        CURLFORM_COPYNAME, &quot;xPos&quot;,
        CURLFORM_COPYCONTENTS, std::to_string(t.xPos).c_str(), CURLFORM_END);
    curl_formadd(&amp;formpost, &amp;lastptr,
        CURLFORM_COPYNAME, &quot;yPos&quot;,
        CURLFORM_COPYCONTENTS, std::to_string(t.yPos).c_str(), CURLFORM_END);
    curl_formadd(&amp;formpost, &amp;lastptr,
        CURLFORM_COPYNAME, &quot;width&quot;,
        CURLFORM_COPYCONTENTS, &quot;0&quot;, CURLFORM_END);
    curl_formadd(&amp;formpost, &amp;lastptr,
        CURLFORM_COPYNAME, &quot;height&quot;,
        CURLFORM_COPYCONTENTS, &quot;0&quot;, CURLFORM_END);
    //上传buffer数据
    curl_formadd(&amp;formpost, &amp;lastptr,
        CURLFORM_COPYNAME, &quot;tileData&quot;,//上传的字段
        CURLFORM_BUFFER, &quot;tileData&quot;,//服务端字段
        CURLFORM_BUFFERPTR, pc,//内存中binary数据
        CURLFORM_BUFFERLENGTH, length,//pc数据长度
        CURLFORM_END);
    easy_handle = curl_easy_init();
    curl_easy_setopt(easy_handle, CURLOPT_URL, t.url.c_str());
    curl_easy_setopt(easy_handle, CURLOPT_POST, 1);
    curl_easy_setopt(easy_handle, CURLOPT_VERBOSE, 0);          //是否输出通信数据，如果是http，请求头/响应头信息也会输出
    curl_easy_setopt(easy_handle, CURLOPT_HEADER, 0);
    curl_easy_setopt(easy_handle, CURLOPT_HTTPHEADER, http_headers);
    curl_easy_setopt(easy_handle, CURLOPT_HTTPPOST, formpost);
    res = curl_easy_perform(easy_handle);
    curl_slist_free_all(http_headers);
    curl_formfree(formpost);
    curl_easy_cleanup(easy_handle);
    curl_global_cleanup();
    if (res != CURLE_OK)
    {
        std::cerr &lt;&lt; &quot;curl_easy_perform failed:&quot; &lt;&lt; res &lt;&lt; std::endl;
        return -1;
    }
    else {
        return 0;
    }
}
</code></pre><h4 id="多线程问题"><a href="#多线程问题" class="headerlink" title="多线程问题"></a>多线程问题</h4><blockquote>
<p><code>CURLcode code = curl_global_init(CURL_GLOBAL_ALL);</code><br><code>curl_global_cleanup();</code></p>
</blockquote>
<p>这两两个函数的初始化工作提升至主线程操作</p>

          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/04/04/c++类型转换/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/04/04/c++类型转换/" itemprop="url">
                  c+++l类型转换
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2019-04-04 16:41:01 / 修改时间：16:42:15" itemprop="dateCreated datePublished" datetime="2019-04-04T16:41:01+08:00">2019-04-04</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/c/" itemprop="url" rel="index"><span itemprop="name">c++</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="c-string相关操作"><a href="#c-string相关操作" class="headerlink" title="c++string相关操作"></a>c++string相关操作</h2><h3 id="c-中string与char-char-之间的转换问题"><a href="#c-中string与char-char-之间的转换问题" class="headerlink" title="c++中string与char*/char[]之间的转换问题?"></a>c++中string与char*/char[]之间的转换问题?</h3><p>场景:结构体char*类型重新输出的时候乱码的解决措施.</p>
<p>方法:把char*类型转换为string</p>
<h4 id="一、string转char"><a href="#一、string转char" class="headerlink" title="一、string转char*"></a>一、string转char*</h4><p>主要有三种方法可以将str转换为char*类型，分别是：data(); c_str(); copy();</p>
<ol>
<li><p>data()方法</p>
<pre><code>string str = &quot;hello&quot;;
const char* p = str.data();//加const  或者用char * p=(char*)str.data();的形式
</code></pre></li>
<li><p>c_str()方法</p>
<pre><code>string str=“world”;
const char *p = str.c_str();//同上，要加const或者等号右边用char*
</code></pre></li>
<li><p>copy()方法</p>
<pre><code>string str=&quot;hmmm&quot;;
char p[50];
str.copy(p, 5, 0);//这里5代表复制几个字符，0代表复制的位置，
*(p+5)=‘\0’;//注意手动加结束符！！！
</code></pre></li>
</ol>
<h4 id="二、char-转string。"><a href="#二、char-转string。" class="headerlink" title="二、char * 转string。"></a>二、char * 转string。</h4><ol>
<li><p>直接赋值</p>
<pre><code>string s;
char *p = &quot;hello&quot;;//直接赋值
s = p;
</code></pre></li>
</ol>
<h4 id="三、string转char"><a href="#三、string转char" class="headerlink" title="三、string转char[]"></a>三、string转char[]</h4><p>这个由于我们知道string的长度，可以根据length()函数得到，又可以根据下标直接访问，所以用一个循环就可以赋值了</p>
<pre><code>string pp = &quot;dagah&quot;;
    char p[8];
    int i;
    for( i=0;i&lt;pp.length();i++)
        p[i] = pp[i];
    p[i] = &apos;\0&apos;;
    printf(&quot;%s\n&quot;,p);
    cout&lt;&lt;p;
</code></pre><h4 id="四-char-转string"><a href="#四-char-转string" class="headerlink" title="四. char[]转string"></a>四. char[]转string</h4><p>可以直接赋值</p>
<h4 id="五-unsinged-char转char"><a href="#五-unsinged-char转char" class="headerlink" title="五. unsinged char转char"></a>五. unsinged char<em>转char</em></h4><pre><code>unsinged char* uStr=&quot;xxxxx&quot;;
char* cStr = (char*)uStr;
</code></pre><h3 id="字符串查找与分割"><a href="#字符串查找与分割" class="headerlink" title="字符串查找与分割"></a>字符串查找与分割</h3><pre><code>//查找一个字符在一个字符串中第n次出现的位置
int findNstPositon(char *str,char c,int n)
{
    char *p = str;
    int index = 0;
    int count = 0;

    while(*p != &apos;\0&apos;)
    {
        if(*p == c)
        {
            count ++;
        }
        if(count &lt; n)
        {
            p++;
            index++;
        }else {
            break;
        }

    }
    return index;

}

//以指定的字符分割字符串，并将分割后的字符串组放入vector&lt;string&gt; 中
void split(const string&amp; src, const string&amp; separator, vector&lt;string&gt;&amp; dest)
{
    string str = src;
    string substring;
    string::size_type start = 0, index;
    do
    {
        index = str.find_first_of(separator,start);
        if (index != string::npos)
        {    
            substring = str.substr(start,index-start);
            dest.push_back(substring);
            start = str.find_first_not_of(separator,index);
            if (start == string::npos) return;
        }
    }while(index != string::npos);

    //the last token
    substring = str.substr(start);
    dest.push_back(substring);
}
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/29/回调函数异步变同步/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/29/回调函数异步变同步/" itemprop="url">
                  回调函数异步变同步
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-29 13:58:46 / 修改时间：15:02:30" itemprop="dateCreated datePublished" datetime="2018-12-29T13:58:46+08:00">2018-12-29</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/javascript/" itemprop="url" rel="index"><span itemprop="name">javascript</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="如何把涉及到回调函数的一个异步过程变成同步过程"><a href="#如何把涉及到回调函数的一个异步过程变成同步过程" class="headerlink" title="如何把涉及到回调函数的一个异步过程变成同步过程"></a>如何把涉及到回调函数的一个异步过程变成同步过程</h3><h4 id="js中涉及到回调的基本采用了异步的过程-那么如何把一个异步的过程变成同步的过程呢-下面用了一个自执行函数来实现一下"><a href="#js中涉及到回调的基本采用了异步的过程-那么如何把一个异步的过程变成同步的过程呢-下面用了一个自执行函数来实现一下" class="headerlink" title="js中涉及到回调的基本采用了异步的过程,那么如何把一个异步的过程变成同步的过程呢,下面用了一个自执行函数来实现一下:"></a>js中涉及到回调的基本采用了异步的过程,那么如何把一个异步的过程变成同步的过程呢,下面用了一个自执行函数来实现一下:</h4><pre><code>(function test(i)){
   if(i==files.length){&lt;br&gt;      console.log(files);//执行完成后打印最终的值
      return;
   }
   fs.stat(&quot;./XXX&quot;,function(err,stats){
           if(stats.isDirectory()){
                //do somethings&lt;br&gt;                 files.push(XXX);
           }   
           test(i+1);//执行完了i=0 再执行i++ 这样就把一个回调异步变成了同步的过程
    })
}(0);//一上来 传一个0给参数i 第一次执行
</code></pre><h4 id="重新封装一层promise"><a href="#重新封装一层promise" class="headerlink" title="重新封装一层promise"></a>重新封装一层promise</h4><ul>
<li><p>fs.readdir是一个异步回调的方法,为了解决其变成同步,重新封装一层peomise,然后async/await中使用</p>
<pre><code>function getfile(dirpath) {
    return new Promise((resolve,reject)=&gt;{
        fs.readdir(dirpath,(err,files)=&gt;{
            res = files.length
            resolve(res)
        })
    })
}
async function main(){
    const result = await getfile(&quot;E:\\&quot;)
    console.log(result)//26
}
main()
</code></pre></li>
</ul>
<p>这样子输出result的话就不会是undefined了,而是26</p>
<ul>
<li><p>一层回调封装一层</p>
<pre><code>function getfile(dirpath) {
    return new Promise((resolve,reject)=&gt;{
        fs.readdir(dirpath,(err,files)=&gt;{
            res = files.length
            const Paths = files.map(file =&gt;{
                return path.resolve(dirpath,file)                    
            })
            resolve(Paths)
        })
    })
}
function describeFile(path){
    return new Promise((resolve,reject)=&gt;{
       fs.stat(path,(err,stat)=&gt;{
        let obj = {}
        if(err){
            reject(err)
        } else {
            if(stat.isFile()){
                obj.type = &apos;file&apos;
            }
            if(stat.isDirectory()){
                obj.type = &apos;folder&apos;
            }
        }
        resolve(obj)
    })
    })
}
async function main(){
    const first = await getfile(&quot;E:\\&quot;)
    let three =[]
    for(let i=0;i&lt;first.length;i++){
        try {
            let obj = await describeFile(first[i])
            three.push(obj)
        } catch (error) {
            console.log(error)
        }
    }
    console.log(three)
}
main()
</code></pre></li>
</ul>
<p>通过这种方式完美解决无法函数外部无法访问函数内部的变量</p>

          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/24/git的使用/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/24/git的使用/" itemprop="url">
                  git的使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-24 21:14:27 / 修改时间：22:02:02" itemprop="dateCreated datePublished" datetime="2018-12-24T21:14:27+08:00">2018-12-24</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/git/" itemprop="url" rel="index"><span itemprop="name">git</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="git的使用"><a href="#git的使用" class="headerlink" title="git的使用"></a>git的使用</h3><h4 id="版本控制"><a href="#版本控制" class="headerlink" title="版本控制"></a>版本控制</h4><ul>
<li>分布式版本控制系统(对应svn的集中式管理)</li>
<li>强大的”分支”管理系统</li>
</ul>
<h4 id="配置git用户和邮箱"><a href="#配置git用户和邮箱" class="headerlink" title="配置git用户和邮箱"></a>配置git用户和邮箱</h4><pre><code>git config --global user.name &quot;你的github用户名&quot;
git config --global user.email &quot;你的github邮箱&quot;
</code></pre><h5 id="查看配置"><a href="#查看配置" class="headerlink" title="查看配置"></a>查看配置</h5><pre><code>git config --global user.name
git config --global user.email
</code></pre><h5 id="查看所有配置"><a href="#查看所有配置" class="headerlink" title="查看所有配置"></a>查看所有配置</h5><pre><code>git config --list
</code></pre><h4 id="初始化git"><a href="#初始化git" class="headerlink" title="初始化git"></a>初始化git</h4><ul>
<li>先创建一个空目录 ，然后进入此目录</li>
<li>点击右键选择Git-Bash打开命令行</li>
<li>输入git init命令把这个目录变成Git可以管理的仓库</li>
</ul>
<p>通过ls -al命令查看所有文件</p>
<h4 id="git的三个区"><a href="#git的三个区" class="headerlink" title="git的三个区"></a>git的三个区</h4><ul>
<li><p>工作流</p>
<ol>
<li><p>工作区</p>
<ul>
<li><p>通过git add添加到暂存区</p>
<pre><code>git add &apos;文件名&apos;
</code></pre></li>
</ul>
</li>
<li><p>暂存区</p>
<ul>
<li>特点:过渡的作用，避免误操作，保护工作区和历史区，分支处理</li>
<li><p>通过git commit 添加到历史区</p>
<pre><code>git commit -m &quot;注释内容&quot;
</code></pre></li>
</ul>
</li>
<li><p>历史区</p>
<ul>
<li><p>查看历史状态</p>
<pre><code>git log
</code></pre></li>
<li>修改时通过git status查看当前状态</li>
</ul>
</li>
</ol>
</li>
</ul>
<h4 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h4><p>不同区的代码比较</p>
<h5 id="工作区和暂存区"><a href="#工作区和暂存区" class="headerlink" title="工作区和暂存区"></a>工作区和暂存区</h5><pre><code>git diff
</code></pre><h5 id="暂存区和历史区"><a href="#暂存区和历史区" class="headerlink" title="暂存区和历史区"></a>暂存区和历史区</h5><pre><code>git diff -cached (--staged)
</code></pre><h5 id="工作区和版本库"><a href="#工作区和版本库" class="headerlink" title="工作区和版本库"></a>工作区和版本库</h5><pre><code>git diff master
</code></pre><h4 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h4><h5 id="撤回git-add的内容"><a href="#撤回git-add的内容" class="headerlink" title="撤回git add的内容"></a>撤回git add的内容</h5><pre><code>git reset Head &quot;文件名&quot;
</code></pre><h5 id="撤回文件"><a href="#撤回文件" class="headerlink" title="撤回文件"></a>撤回文件</h5><ul>
<li><p>先从缓存区撤销,缓存区无内容，从历史区域撤销</p>
<pre><code>git checkout &quot;文件名&quot;
</code></pre></li>
</ul>
<p>有的时候我们希望提交时合并到上一次的提交 git commit –amend</p>
<h4 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h4><h5 id="删除暂存区和工作区"><a href="#删除暂存区和工作区" class="headerlink" title="删除暂存区和工作区"></a>删除暂存区和工作区</h5><ul>
<li><p>删除暂存区中的内容,并且保证工作区中的内容已经不存在</p>
<pre><code>git rm &quot;文件名&quot;
</code></pre></li>
</ul>
<p>若本地文件存在则不能删除，需要通过-f参数删除</p>
<h5 id="仅删除缓存区"><a href="#仅删除缓存区" class="headerlink" title="仅删除缓存区"></a>仅删除缓存区</h5><ul>
<li>git rm –cached “文件名”</li>
</ul>
<h4 id="恢复"><a href="#恢复" class="headerlink" title="恢复"></a>恢复</h4><h5 id="恢复某个版本文件"><a href="#恢复某个版本文件" class="headerlink" title="恢复某个版本文件"></a>恢复某个版本文件</h5><pre><code>git checkout commit_id filename 某个文件
</code></pre><h5 id="通过版本id恢复"><a href="#通过版本id恢复" class="headerlink" title="通过版本id恢复"></a>通过版本id恢复</h5><pre><code>git reset --hard commit_id
</code></pre><h5 id="恢复未来"><a href="#恢复未来" class="headerlink" title="恢复未来"></a>恢复未来</h5><ul>
<li><p>查看当时回滚的版本</p>
<pre><code>git reflog
</code></pre></li>
</ul>
<h5 id="快速版本回退"><a href="#快速版本回退" class="headerlink" title="快速版本回退"></a>快速版本回退</h5><pre><code>git reset --hard HEAD^
git reset --hard HEAD~3
</code></pre><h4 id="同步远程仓库"><a href="#同步远程仓库" class="headerlink" title="同步远程仓库"></a>同步远程仓库</h4><h5 id="github"><a href="#github" class="headerlink" title="github"></a>github</h5><ul>
<li>注册账号</li>
<li>新建项目<h5 id="版本远程仓库"><a href="#版本远程仓库" class="headerlink" title="版本远程仓库"></a>版本远程仓库</h5>  git remote add origin “地址”<h5 id="添加忽略文件"><a href="#添加忽略文件" class="headerlink" title="添加忽略文件"></a>添加忽略文件</h5>  $ touch .gitignore<br>  $ echo .DS_Store<br>  $ echo node_modules<br>  $ echo .idea</li>
</ul>
<h5 id="推送代码"><a href="#推送代码" class="headerlink" title="推送代码"></a>推送代码</h5><pre><code>git push origin master
</code></pre><h5 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h5><p>git remote 查看名字<br>git remote -v 查看地址</p>
<h4 id="代码的合并"><a href="#代码的合并" class="headerlink" title="代码的合并"></a>代码的合并</h4><h5 id="git-fetch"><a href="#git-fetch" class="headerlink" title="git fetch"></a>git fetch</h5><pre><code>git fetch
</code></pre><p>拉取过来手动合并</p>
<pre><code>git diff master origin/master
$ git merge origin/master
</code></pre><h5 id="git-pull"><a href="#git-pull" class="headerlink" title="git pull"></a>git pull</h5><p>拉取并合并</p>
<pre><code>git pull
</code></pre><h4 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h4><pre><code>git branch
git branch 创建分支
git checkout a
git checkout -b c切换分支
在master  git merge
git checkout b
git branch --merged 合并了哪些分支
git branch --no-merged 合并了哪些分支
git branch -d a 删除分支
git branch -D a 删除分支
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/21/img标签由字节buffer转base64显示图片/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/21/img标签由字节buffer转base64显示图片/" itemprop="url">
                  img标签由字节buffer转base64显示图片
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-21 16:50:10 / 修改时间：16:52:09" itemprop="dateCreated datePublished" datetime="2018-12-21T16:50:10+08:00">2018-12-21</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/electron/" itemprop="url" rel="index"><span itemprop="name">electron</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="img标签由字节buffer转base64显示图片"><a href="#img标签由字节buffer转base64显示图片" class="headerlink" title="img标签由字节buffer转base64显示图片"></a>img标签由字节buffer转base64显示图片</h3><pre><code>/**
 *  buffer类型转base64变成dataUrl显示在img标签
 *
 * @param {Buffer} buffer     图片buffer
 * @return {Base64} base64   
 */
export const bufferTodataUrl=(buffer)=&gt;{
    const base64Str = buffer.toString(&apos;base64&apos;)
    return &apos;data:image/jpeg;base64,&apos; + base64Str;
}
</code></pre><p>然后img标签的src绑定处理过得得到的base64</p>

          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/20/javascript对象查重/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/20/javascript对象查重/" itemprop="url">
                  javascript对象查重
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-20 15:47:12 / 修改时间：15:47:53" itemprop="dateCreated datePublished" datetime="2018-12-20T15:47:12+08:00">2018-12-20</time>
            

            
              

              
            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="javascript对象查重封装"><a href="#javascript对象查重封装" class="headerlink" title="javascript对象查重封装"></a>javascript对象查重封装</h3><pre><code>export const checkDup=(array,obj)=&gt;{
            var value= obj.value;
            for (var i=0;i&lt;array.length;i++){
                if(obj ){
                    if(array[i]){
                        var value1 = array[i].value;
                        if(value === value1){
                            return true;
                        }
                    }
                }
            }
        return false;
}
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/20/fs模块判断文件属性/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/20/fs模块判断文件属性/" itemprop="url">
                  fs模块操作文件封装
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-20 15:43:42 / 修改时间：15:46:11" itemprop="dateCreated datePublished" datetime="2018-12-20T15:43:42+08:00">2018-12-20</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/node-js/" itemprop="url" rel="index"><span itemprop="name">node.js</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="fs模块判断文件属性"><a href="#fs模块判断文件属性" class="headerlink" title="fs模块判断文件属性"></a>fs模块判断文件属性</h3><pre><code>/**
 *  检查每一项是文件还是文件夹
 *
 * @param {Array}  result文件path
 * @param {*}        
 * @returns     数组对象
 */
export const inspectDescribeFiles=(result)=&gt;{
    let childrenResult =[]
    for (let i=0;i&lt;result.length;i++){
        fs.stat(result[i],(err,stat)=&gt;{
            let pathObj = {
                title:path.basename(result[i]),
                path:result[i],
                type:&apos;&apos;,
                expand:false
            }
            if (err){
                console.log(err)
            } else {
                if (stat.isFile()){
                    pathObj.type = &apos;file&apos;
                    const ext = path.parse(result[i]).ext
                    if(ext == &apos;.TMAP&apos;){
                        childrenResult.push(pathObj)
                    }
                }
                if (stat.isDirectory()){
                    pathObj.type = &apos;folder&apos;
                    childrenResult.push(pathObj)
                }

            }
        })
    } 
    return childrenResult
}
</code></pre><h3 id="fs模块绝对路径封装"><a href="#fs模块绝对路径封装" class="headerlink" title="fs模块绝对路径封装"></a>fs模块绝对路径封装</h3><pre><code>/**
 *  返回绝对路径的方法
 *
 * @param {*} folderPath  传入盘符的路径  C:\\  D:\\
 * @param {*} files       files就是文件名
 * @returns      返回每个files的绝对路径
 */
function resolvePath(folderPath,files){
    const resolvePathResult = []
    for (let i = 0; i &lt;files.length;i++){
        const resolvePath= path.resolve(folderPath,files[i])
        resolvePathResult.push(resolvePath)
    }
    return resolvePathResult
}
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/20/node-js读取电脑分区/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/20/node-js读取电脑分区/" itemprop="url">
                  node.js读取电脑分区
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-20 15:39:43 / 修改时间：15:42:11" itemprop="dateCreated datePublished" datetime="2018-12-20T15:39:43+08:00">2018-12-20</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/node-js/" itemprop="url" rel="index"><span itemprop="name">node.js</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="node-js读取电脑分区"><a href="#node-js读取电脑分区" class="headerlink" title="node.js读取电脑分区"></a>node.js读取电脑分区</h3><pre><code>const fs = require(&apos;fs&apos;)
const path = require(&apos;path&apos;)
var exec = require(&apos;child_process&apos;).exec;
function showLetter(callback) {
    exec(&apos;wmic logicaldisk get caption&apos;, function(err, stdout, stderr) {
        if(err || stderr) {
            console.log(&quot;root path open failed&quot; + err + stderr);
            return;
        }
        callback(stdout);
    }
)}
export const  getCaption =()=&gt;{
    return new Promise((resolve,reject)=&gt;{
        showLetter(data=&gt;{
            const result =data.replace(/\ +/g,&quot;&quot;).replace(/[ ]/g,&quot;&quot;).replace(/[\r\n]/g,&quot;&quot;).replace(/:/g,&quot;&quot;)
            const caption = (result.split(&quot;&quot;).slice(7))
            let captionResult = []
            caption.map(item =&gt;{
                let Obj = {}
                Obj.title = `${item}://`
                Obj.expand = false,
                Obj.type = &apos;folder&apos;
                Obj.path = `${item}://`
                captionResult.push(Obj)
            })
            resolve(captionResult)
        })
    })   
}
</code></pre>
          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/12/17/发布并更新npm包/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="厚朴酚">
      <meta itemprop="description" content="学习笔记">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="厚朴酚">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/12/17/发布并更新npm包/" itemprop="url">
                  发布并更新npm包
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-12-17 13:52:58 / 修改时间：14:00:49" itemprop="dateCreated datePublished" datetime="2018-12-17T13:52:58+08:00">2018-12-17</time>
            

            
              

              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing"><a href="/categories/node-js/" itemprop="url" rel="index"><span itemprop="name">node.js</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="发布并更新npm包"><a href="#发布并更新npm包" class="headerlink" title="发布并更新npm包"></a>发布并更新npm包</h3><h4 id="发布包"><a href="#发布包" class="headerlink" title="发布包"></a>发布包</h4><ol>
<li>新建一个文件夹 </li>
<li>文件夹下新建一个lib文件夹</li>
<li>创建package.json,并初始化字节的信息</li>
<li>创建readme.md文件</li>
<li>在lib文件夹写你的方法</li>
<li>根文件夹下创建一个index.js主入口文件,并把lib下的方法暴露</li>
<li>开始上传npm包<ol>
<li>npm adduser</li>
<li>npm publish</li>
</ol>
</li>
</ol>
<h4 id="更新包"><a href="#更新包" class="headerlink" title="更新包"></a>更新包</h4><ol>
<li>进行你的代码修改</li>
<li><p>用命令：npm version &lt;update_type&gt;进行修改,update_type 有三个参数</p>
<ol>
<li>第一个是patch, 补丁</li>
<li>第二个是minor, 小修小改</li>
<li>第三个是 major，大改</li>
</ol>
</li>
<li><p>再次npm publish既可</p>
</li>
</ol>

          
        
      
    </div>

    

    
    
    
    

    
    <div>
      
    </div>

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="厚朴酚">
            
              <p class="site-author-name" itemprop="name">厚朴酚</p>
              <p class="site-description motion-element" itemprop="description">学习笔记</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">58</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">14</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">30</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">厚朴酚</span>

  

  
</div>



<!--
  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.8.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Gemini</a> v6.4.2</div>
 -->



        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.2"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
