---
title: 微信小程序基础学习
date: 2018-11-22 15:33:38
tags:
---


### 微信小程序基础学习

#### 自定义组件

- 新建components文件夹
- 在components文件夹下面插件自定义组件的文件名的文件夹,然后创建组件
- 在其他组件要进行调用此子组件:
  1. 在父组件的json文件下面
  
			{
			  "navigationBarTitleText":"父组件页面标题",
			  
			  "usingComponents": {
			    "br": "../../components/br/br" ,//注册的子组件	
			    "header": "../../components/header/header"//注册的子组件
			  }
			}

- 备注: 特别需要注意的是路径

#### 父组件给子组件传值
- 父组件调用子组件的时候给子组件绑定属性(也就是定义字段)
- 在子组件的js文件里面定义properties
		
		properties: {
		    title: { // 属性名
		      type: String, // 类型（必填），目前接受的类型包括：String, Number, Boolean, Object, Array, null（表示任意类型）
		      value: '', // 属性初始值（可选），如果未指定则会根据类型选择一个
		      observer: function(newVal, oldVal){} // 属性被改变时执行的函数（可选），也可以写成在methods段中定义的方法名字符串, 如：'_propertyChange'
		    },
		    name: String // 简化的定义方式
		  }

- 同时子组件可以定义slot来承载父组件调用的时候中间写wxml语言

#### 父组件调用子组件的方法

1. 调用子组件的时候定义一个id
 			

		<header id="header"></header>

2. 父组件获取子组件的实例 

		var header = this.selectComponent("#header")

3. header.方法名.  (实例.方法名)

 		调用子组件里面的方法
		header.data.msg父组件里面直接获取子组件的数据

#### 子组件调用父组件的方法

 - 父组件的方法

			run(){
			console.log("我是父组件的方法")
		}

- 在footer子组件方法

		<Button bindtap="getParent">触发父组件的run方法</button>

		//methods
	
		1. this.triggerEvent('myevent', 数据, 参数）
		2. <footer bindmyevent="run" />
	
		getParent(){
			this.triggerEvent('parent','子组件数据')
		}

- 在父组件的footer绑定

		<footer bingparent="run"></footer>

